<div class="register-container">
  <p-toast></p-toast>

  <div class="container-fluid h-100 p-0">
    <div class="row h-100 g-0" style="min-height: 100vh;">
      <!-- Left Side - Illustration -->
      <div class="col-12 col-md-4 d-flex align-items-center justify-content-center p-0 left-illustration-col">
        <svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" width="100" height="100" viewBox="0 0 567.01 492.18">
          <defs>
            <style>
              .cls-1 {
                fill: #e6ae38;
              }
        
              .cls-2 {
                fill: #012a4a;
              }
            </style>
          </defs>
          <path class="cls-2" d="M1.01,3.46c0-.25-1.18-.8-.58-1.51L3.47.92c56.36,2.34,115-2.95,171.09,0,55.15,2.91,103.39,29.04,135.27,73.73,78.44,109.94,7.42,255.59-122.33,272.3l-186.98.02c-1.4-.17.5-1.28.5-1.5C1.01,231.47,1.41,117.46,1.01,3.46ZM77.01,73.96v154c31.16-4.1,54.56-28.74,74.96-50.5l-24.47-26.5c-.83-1.31-.83-2.69.52-3.49,30.07-9.36,60.89-16.4,91.98-21.5l-23.01,99.98c-3.62,2.53-15.37-15.67-17.9-18.35-.79-.84-.68-.92-2.06-.63-21.6,33.88-59.92,61.31-99.01,71l3.48.99c1.87.53,5.35-.33,7.34-.32,3.39.03,6.77.05,10.16.09,6.77.06,13.54.14,20.31.22,10.36.13,20.72.29,31.08.48,4.89.09,9.62.01,14.48-.28s9.66-1.45,14.37-1.45c121.55-17.91,118.84-191.41-1.74-203.72h-100.49Z"/>
          <path class="cls-1" d="M449.66,300.61c-45.41,44.79-113.64-24.86-66.69-69.19,44.83-42.32,110.83,25.65,66.69,69.19Z"/>
          <path class="cls-2" d="M161.79,380.24c70.03-7.99,93.12,80.98,32.9,106.9-52.4,22.55-105.19-35.14-72.08-83.08,8.45-12.24,24.32-22.12,39.19-23.81ZM171.68,400.35c-34.01-.62-47.6,46.16-19.2,64.64,19.65,12.78,43.97,2.51,50.82-19.22s-9.31-45.02-31.63-45.42Z"/>
          <path class="cls-2" d="M311.02,452.44v-1.47c26.1-8.77,27.65-45.55,6.9-61.42-5.96-4.56-16.03-7.86-23.41-8.59-15.31-1.52-32.94,1.13-48.5,0v108.5c0,.11,1.39,1.5,1.5,1.5h21c.11,0,1.5-1.39,1.5-1.5v-35.5c3.84.46,8.84-.67,12.48.02,7.43,1.42,18.65,31.2,25.02,36.98h25.5l-21.99-38.52ZM303.74,429.14c-1.01,1.1-2.24,1.96-3.48,2.78-1.16.77-2.38,1.78-3.79,2.01-1.17.19-2.39-.03-3.57,0s-2.46,0-3.69,0h-19.19v-31.98h22.5c8.17,0,15.58,8.44,15.58,16.5,0,3.93-1.7,7.81-4.35,10.68Z"/>
          <path class="cls-2" d="M2.01,380.96c.09-4.65,22.67-1.68,25.23-1.43,5.63.56,11.26,1.28,16.84,2.24,15.54,2.66,31.88,7.26,42.1,19.92,8.51,10.53,13.1,24.36,12.4,37.89-.14,2.69-.49,5.37-1.06,8.01-.18.82-.38,1.63-.6,2.44-1.04,3.8-2.52,7.49-4.37,10.97-18.57,34.81-56.71,29.93-90.54,29.96,0,0,0-109.98,0-110ZM25.01,468.96s20.5,0,20.5,0c23.58,0,37.74-32.6,25.62-51.4-6.71-10.41-20.34-14.95-32.22-14.8-1.05.01-13.89-.14-13.89.21v66Z"/>
          <path class="cls-2" d="M455.01,490.96h-24.5c-3.82-4.45-4.64-15.35-7.59-19.41-1.13-1.56-1.61-1.44-3.36-1.64-12.53-1.44-28.03,1.05-40.89.22-3.27,1.11-7.16,20.84-10.16,20.84h-23.5c11.84-36.4,26.46-71.95,39.56-107.94.63-1.32,1.59-1.77,2.96-2.04,2.63-.51,23.83-.32,25.48.47,1.21.58,1.97,2.31,2.48,3.52,13.13,35.32,27.34,70.43,39.51,105.99ZM415.01,448.96c-4.31-11.02-8.25-25.46-13.8-35.7-.36-.66-1.53-2.79-2.19-2.3l-15.01,38h31Z"/>
          <path class="cls-2" d="M495.01,380.96v48c5.79-5.27,11.29-11.17,16.51-16.99,3.57-3.97,24.93-31.01,26.99-31.01h26.5l-43.04,51.5,45.04,58.5h-27.5l-37.49-46.53c-.76-.57-7.01,5.56-7.01,6.03v40.5h-24v-110h24Z"/>
        </svg>
      </div>

      <!-- Right Side - Registration Form -->
      <div class="col-12 col-md-8 d-flex align-items-center justify-content-center p-0 right-register-col">
        <div class="register-form-container mx-auto">
          <div class="register-header mb-2">
            <div class="logo-section d-flex align-items-center mb-3">
              <div class="logo-icon">
                <i class="pi pi-shield text-primary"></i>
              </div>
              <h3 class="logo-text ms-2 mb-0">Sleeknote</h3>
            </div>
            <h1 class="welcome-title">Create Account</h1>
            <p class="welcome-subtitle">Join us to manage your queues efficiently</p>
          </div>

          <!-- Registration Stepper -->
          <p-steps [model]="steps" [readonly]="false" [activeIndex]="activeStepIndex"></p-steps>

          <!-- Step Content -->
          <div class="step-content mt-4">
            <!-- Step 1: Main Data -->
            <div *ngIf="activeStepIndex === 0" class="step-panel">
              <form #mainDataForm="ngForm">
                <!-- Username Field -->
                <div class="field mb-3">
                  <label for="username" class="form-label">Username</label>
                  <input type="text" pInputText id="username" name="username" [(ngModel)]="registrationData.username" 
                    placeholder="Enter your username" class="form-control" required minlength="8" #usernameInput="ngModel" />
                  <div *ngIf="usernameInput.invalid && usernameInput.touched" class="text-danger mt-1">
                    <small *ngIf="usernameInput.errors?.['required']">Username is required</small>
                    <small *ngIf="usernameInput.errors?.['minlength']">Username must be at least 8 characters</small>
                  </div>
                </div>

                <!-- Email Field -->
                <div class="field mb-3">
                  <label for="email" class="form-label">Email</label>
                  <input type="email" pInputText id="email" name="email" [(ngModel)]="registrationData.email" 
                    placeholder="Enter your email" class="form-control" required minlength="6" #emailInput="ngModel" />
                  <div *ngIf="emailInput.invalid && emailInput.touched" class="text-danger mt-1">
                    <small *ngIf="emailInput.errors?.['required']">Email is required</small>
                    <small *ngIf="emailInput.errors?.['email']">Please enter a valid email address</small>
                    <small *ngIf="emailInput.errors?.['minlength']">Email must be at least 6 characters</small>
                  </div>
                </div>

                <!-- Phone Number Field -->
                <div class="field mb-3">
                  <label for="phoneNumber" class="form-label">Phone Number</label>
                  <input type="tel" pInputText id="phoneNumber" name="phoneNumber" [(ngModel)]="registrationData.phoneNumber" 
                    placeholder="Enter your phone number" class="form-control" required minlength="8" #phoneNumberInput="ngModel" />
                  <div *ngIf="phoneNumberInput.invalid && phoneNumberInput.touched" class="text-danger mt-1">
                    <small *ngIf="phoneNumberInput.errors?.['required']">Phone number is required</small>
                    <small *ngIf="phoneNumberInput.errors?.['minlength']">Phone number must be at least 8 characters</small>
                  </div>
                </div>

                <!-- Password Field -->
                <div class="field mb-3">
                  <label for="password" class="form-label">Password</label>
                  <div class="password-input-container">
                    <input [type]="showPassword ? 'text' : 'password'" pInputText id="password" name="password" 
                      [(ngModel)]="registrationData.password" placeholder="Enter your password" 
                      class="form-control" required minlength="8" #passwordInput="ngModel" />
                    <button type="button" class="password-toggle-btn" (click)="togglePasswordVisibility()">
                      <i [class]="showPassword ? 'pi pi-eye-slash' : 'pi pi-eye'"></i>
                    </button>
                  </div>
                  <div *ngIf="passwordInput.invalid && passwordInput.touched" class="text-danger mt-1">
                    <small *ngIf="passwordInput.errors?.['required']">Password is required</small>
                    <small *ngIf="passwordInput.errors?.['minlength']">Password must be at least 8 characters</small>
                  </div>
                </div>

                <!-- Confirm Password Field -->
                <div class="field mb-3">
                  <label for="confirmPassword" class="form-label">Confirm Password</label>
                  <div class="password-input-container">
                    <input [type]="showPassword ? 'text' : 'password'" pInputText id="confirmPassword" name="confirmPassword" 
                      [(ngModel)]="registrationData.confirmPassword" placeholder="Confirm your password" 
                      class="form-control" required minlength="8" #confirmPasswordInput="ngModel" />
                    <button type="button" class="password-toggle-btn" (click)="togglePasswordVisibility()">
                      <i [class]="showPassword ? 'pi pi-eye-slash' : 'pi pi-eye'"></i>
                    </button>
                  </div>
                  <div *ngIf="confirmPasswordInput.invalid && confirmPasswordInput.touched" class="text-danger mt-1">
                    <small *ngIf="confirmPasswordInput.errors?.['required']">Please confirm your password</small>
                    <small *ngIf="confirmPasswordInput.errors?.['minlength']">Confirm password must be at least 8 characters</small>
                  </div>
                  <div *ngIf="registrationData.password !== registrationData.confirmPassword && registrationData.confirmPassword" 
                    class="text-danger mt-1">
                    <small>Passwords do not match</small>
                  </div>
                </div>

                <!-- Role Selection -->
                <div class="field mb-4">
                  <label for="role" class="form-label">Select Role</label>
                  <p-dropdown id="role" name="role" [options]="roles" [(ngModel)]="registrationData.role" 
                    placeholder="Choose your role" optionLabel="name" optionValue="value" 
                    class="w-100" [required]="true" #roleInput="ngModel">
                  </p-dropdown>
                  <div *ngIf="roleInput.invalid && roleInput.touched" class="text-danger mt-1">
                    <small>Please select a role</small>
                  </div>
                </div>
              </form>
            </div>

            <!-- Step 2: Role-specific Data -->
            <div *ngIf="activeStepIndex === 1" class="step-panel">
              <!-- No Role Selected Message -->
              <div *ngIf="!registrationData.role" class="no-role-message">
                <div class="text-center">
                  <i class="pi pi-exclamation-triangle" style="font-size: 3rem; color: #ffc107; margin-bottom: 1rem;"></i>
                  <h4 class="text-warning mb-3">Role Not Selected</h4>
                  <p class="text-muted mb-4">You need to select a role in the first step to continue.</p>
                  <p-button label="Go Back to Step 1" icon="pi pi-arrow-left" 
                    styleClass="p-button-secondary" (onClick)="previousStep()">
                  </p-button>
                </div>
              </div>

              <!-- Client-specific fields -->
              <div *ngIf="registrationData.role === 'Client'" class="role-specific-content">
                <h4 class="mb-3">Client Information</h4>
                <form #clientForm="ngForm">
                  <!-- First Name -->
                  <div class="field mb-3">
                    <label for="firstName" class="form-label">First Name</label>
                    <input type="text" pInputText id="firstName" name="firstName" [(ngModel)]="registrationData.firstName" 
                      placeholder="Enter your first name" class="form-control" required #firstNameInput="ngModel" />
                    <div *ngIf="firstNameInput.invalid && firstNameInput.touched" class="text-danger mt-1">
                      <small>First name is required</small>
                    </div>
                  </div>

                  <!-- Last Name -->
                  <div class="field mb-3">
                    <label for="lastName" class="form-label">Last Name</label>
                    <input type="text" pInputText id="lastName" name="lastName" [(ngModel)]="registrationData.lastName" 
                      placeholder="Enter your last name" class="form-control" required #lastNameInput="ngModel" />
                    <div *ngIf="lastNameInput.invalid && lastNameInput.touched" class="text-danger mt-1">
                      <small>Last name is required</small>
                    </div>
                  </div>

                  <!-- Gender -->
                  <div class="field mb-3">
                    <label for="gender" class="form-label">Gender</label>
                    <p-dropdown id="gender" name="gender" [options]="['Male', 'Female']" [(ngModel)]="registrationData.gender" 
                      placeholder="Select your gender" class="w-100" [required]="true" #genderInput="ngModel">
                    </p-dropdown>
                    <div *ngIf="genderInput.invalid && genderInput.touched" class="text-danger mt-1">
                      <small>Gender is required</small>
                    </div>
                  </div>

                  <!-- Street -->
                  <div class="field mb-3">
                    <label for="street" class="form-label">Street</label>
                    <input type="text" pInputText id="street" name="street" [(ngModel)]="registrationData.street" 
                      placeholder="Enter your street address" class="form-control" required #streetInput="ngModel" />
                    <div *ngIf="streetInput.invalid && streetInput.touched" class="text-danger mt-1">
                      <small>Street is required</small>
                    </div>
                  </div>

                  <!-- City -->
                  <div class="field mb-3">
                    <label for="city" class="form-label">City</label>
                    <input type="text" pInputText id="city" name="city" [(ngModel)]="registrationData.city" 
                      placeholder="Enter your city" class="form-control" required #cityInput="ngModel" />
                    <div *ngIf="cityInput.invalid && cityInput.touched" class="text-danger mt-1">
                      <small>City is required</small>
                    </div>
                  </div>

                  <!-- Governorate -->
                  <div class="field mb-3">
                    <label for="governorate" class="form-label">Governorate</label>
                    <input type="text" pInputText id="governorate" name="governorate" [(ngModel)]="registrationData.governorate" 
                      placeholder="Enter your governorate" class="form-control" required #governorateInput="ngModel" />
                    <div *ngIf="governorateInput.invalid && governorateInput.touched" class="text-danger mt-1">
                      <small>Governorate is required</small>
                    </div>
                  </div>

                  <!-- Country -->
                  <div class="field mb-3">
                    <label for="country" class="form-label">Country</label>
                    <input type="text" pInputText id="country" name="country" [(ngModel)]="registrationData.country" 
                      placeholder="Enter your country" class="form-control" required #countryInput="ngModel" />
                    <div *ngIf="countryInput.invalid && countryInput.touched" class="text-danger mt-1">
                      <small>Country is required</small>
                    </div>
                  </div>

                  <!-- Birth Date -->
                  <div class="field mb-3">
                    <label for="birthDate" class="form-label">Date of Birth</label>
                    <p-calendar id="birthDate" name="birthDate" [(ngModel)]="registrationData.birthDate" 
                      placeholder="Select your date of birth" class="w-100" [required]="true" #birthDateInput="ngModel">
                    </p-calendar>
                    <div *ngIf="birthDateInput.invalid && birthDateInput.touched" class="text-danger mt-1">
                      <small>Date of birth is required</small>
                    </div>
                  </div>

                  <!-- Image -->
                  <div class="field mb-3">
                    <label for="image" class="form-label">Profile Image</label>
                    <input type="file" id="image" name="image" 
                      (change)="onFileSelected($event)" 
                      class="form-control" accept="image/*" />
                  </div>
                </form>
              </div>

              <!-- Provider-specific fields -->
              <div *ngIf="registrationData.role === 'Provider'" class="role-specific-content">
                <h4 class="mb-3">Provider Information</h4>
                <form #providerForm="ngForm">
                  <!-- First Name -->
                  <div class="field mb-3">
                    <label for="firstName" class="form-label">First Name</label>
                    <input type="text" pInputText id="firstName" name="firstName" [(ngModel)]="registrationData.firstName" 
                      placeholder="Enter your first name" class="form-control" required #firstNameInput="ngModel" />
                    <div *ngIf="firstNameInput.invalid && firstNameInput.touched" class="text-danger mt-1">
                      <small>First name is required</small>
                    </div>
                  </div>

                  <!-- Last Name -->
                  <div class="field mb-3">
                    <label for="lastName" class="form-label">Last Name</label>
                    <input type="text" pInputText id="lastName" name="lastName" [(ngModel)]="registrationData.lastName" 
                      placeholder="Enter your last name" class="form-control" required #lastNameInput="ngModel" />
                    <div *ngIf="lastNameInput.invalid && lastNameInput.touched" class="text-danger mt-1">
                      <small>Last name is required</small>
                    </div>
                  </div>

                  <!-- Gender -->
                  <div class="field mb-3">
                    <label for="gender" class="form-label">Gender</label>
                    <p-dropdown id="gender" name="gender" [options]="['Male', 'Female']" [(ngModel)]="registrationData.gender" 
                      placeholder="Select your gender" class="w-100" [required]="true" #genderInput="ngModel">
                    </p-dropdown>
                    <div *ngIf="genderInput.invalid && genderInput.touched" class="text-danger mt-1">
                      <small>Gender is required</small>
                    </div>
                  </div>

                  <!-- Street -->
                  <div class="field mb-3">
                    <label for="street" class="form-label">Street</label>
                    <input type="text" pInputText id="street" name="street" [(ngModel)]="registrationData.street" 
                      placeholder="Enter your street address" class="form-control" required #streetInput="ngModel" />
                    <div *ngIf="streetInput.invalid && streetInput.touched" class="text-danger mt-1">
                      <small>Street is required</small>
                    </div>
                  </div>

                  <!-- City -->
                  <div class="field mb-3">
                    <label for="city" class="form-label">City</label>
                    <input type="text" pInputText id="city" name="city" [(ngModel)]="registrationData.city" 
                      placeholder="Enter your city" class="form-control" required #cityInput="ngModel" />
                    <div *ngIf="cityInput.invalid && cityInput.touched" class="text-danger mt-1">
                      <small>City is required</small>
                    </div>
                  </div>

                  <!-- Governorate -->
                  <div class="field mb-3">
                    <label for="governorate" class="form-label">Governorate</label>
                    <input type="text" pInputText id="governorate" name="governorate" [(ngModel)]="registrationData.governorate" 
                      placeholder="Enter your governorate" class="form-control" required #governorateInput="ngModel" />
                    <div *ngIf="governorateInput.invalid && governorateInput.touched" class="text-danger mt-1">
                      <small>Governorate is required</small>
                    </div>
                  </div>

                  <!-- Country -->
                  <div class="field mb-3">
                    <label for="country" class="form-label">Country</label>
                    <input type="text" pInputText id="country" name="country" [(ngModel)]="registrationData.country" 
                      placeholder="Enter your country" class="form-control" required #countryInput="ngModel" />
                    <div *ngIf="countryInput.invalid && countryInput.touched" class="text-danger mt-1">
                      <small>Country is required</small>
                    </div>
                  </div>

                  <!-- Birth Date -->
                  <div class="field mb-3">
                    <label for="birthDate" class="form-label">Date of Birth</label>
                    <p-calendar id="birthDate" name="birthDate" [(ngModel)]="registrationData.birthDate" 
                      placeholder="Select your date of birth" class="w-100" [required]="true" #birthDateInput="ngModel">
                    </p-calendar>
                    <div *ngIf="birthDateInput.invalid && birthDateInput.touched" class="text-danger mt-1">
                      <small>Date of birth is required</small>
                    </div>
                  </div>

                  <!-- Image -->
                  <div class="field mb-3">
                    <label for="image" class="form-label">Profile Image</label>
                    <input type="file" id="image" name="image" 
                      (change)="onFileSelected($event)" 
                      class="form-control" accept="image/*" />
                  </div>

                  <!-- Specialization -->
                  <div class="field mb-3">
                    <label for="specialization" class="form-label">Specialization</label>
                    <p-dropdown id="specialization" name="specialization" [options]="specializations" 
                      [(ngModel)]="selectedSpecialization" placeholder="Select your specialization" 
                      class="w-100" [required]="true" #specializationInput="ngModel"
                      [filter]="true" [showClear]="true"
                      (onChange)="onSpecializationChange()">
                    </p-dropdown>
                    <div *ngIf="specializationInput.invalid && specializationInput.touched" class="text-danger mt-1">
                      <small>Specialization is required</small>
                    </div>
                  </div>

                  <!-- Custom Specialization Input -->
                  <div *ngIf="showCustomSpecialization" class="field mb-3 custom-specialization-input">
                    <label for="customSpecialization" class="form-label">Custom Specialization</label>
                    <input type="text" pInputText id="customSpecialization" name="customSpecialization" 
                      [(ngModel)]="registrationData.specialization" placeholder="Enter your custom specialization" 
                      class="form-control" required #customSpecializationInput="ngModel"
                      (input)="onCustomSpecializationInput()" />
                    <div *ngIf="customSpecializationInput.invalid && customSpecializationInput.touched" class="text-danger mt-1">
                      <small>Custom specialization is required</small>
                    </div>
                  </div>

                  <!-- Bio -->
                  <div class="field mb-3">
                    <label for="bio" class="form-label">Bio</label>
                    <textarea pInputTextarea id="bio" name="bio" [(ngModel)]="registrationData.bio" 
                      placeholder="Tell us about yourself and your experience" class="form-control" rows="4" 
                      required #bioInput="ngModel"></textarea>
                    <div *ngIf="bioInput.invalid && bioInput.touched" class="text-danger mt-1">
                      <small>Bio is required</small>
                    </div>
                  </div>

                  <!-- Experience Years -->
                  <div class="field mb-3">
                    <label for="experienceYears" class="form-label">Years of Experience</label>
                    <input type="number" pInputText id="experienceYears" name="experienceYears" 
                      [(ngModel)]="registrationData.experienceYears" placeholder="Enter years of experience" 
                      class="form-control" required min="0" max="50" #experienceYearsInput="ngModel" />
                    <div *ngIf="experienceYearsInput.invalid && experienceYearsInput.touched" class="text-danger mt-1">
                      <small>Years of experience is required</small>
                    </div>
                  </div>

                  <!-- License Number -->
                  <div class="field mb-3">
                    <label for="licenseNumber" class="form-label">License Number</label>
                    <input type="text" pInputText id="licenseNumber" name="licenseNumber" 
                      [(ngModel)]="registrationData.licenseNumber" placeholder="Enter your license number" 
                      class="form-control" required #licenseNumberInput="ngModel" />
                    <div *ngIf="licenseNumberInput.invalid && licenseNumberInput.touched" class="text-danger mt-1">
                      <small>License number is required</small>
                    </div>
                  </div>

                  <!-- Provider Title -->
                  <div class="field mb-3">
                    <label for="providerTitle" class="form-label">Provider Title</label>
                    <input type="text" pInputText id="providerTitle" name="providerTitle" 
                      [(ngModel)]="registrationData.providerTitle" placeholder="Enter your professional title" 
                      class="form-control" required #providerTitleInput="ngModel" />
                    <div *ngIf="providerTitleInput.invalid && providerTitleInput.touched" class="text-danger mt-1">
                      <small>Provider title is required</small>
                    </div>
                  </div>

                  <!-- Estimated Duration -->
                  <div class="field mb-3">
                    <label for="estimatedDuration" class="form-label">Estimated Duration (minutes)</label>
                    <input type="number" pInputText id="estimatedDuration" name="estimatedDuration" 
                      [(ngModel)]="registrationData.estimatedDuration" placeholder="Enter estimated appointment duration" 
                      class="form-control" required min="15" max="180" #estimatedDurationInput="ngModel" />
                    <div *ngIf="estimatedDurationInput.invalid && estimatedDurationInput.touched" class="text-danger mt-1">
                      <small>Estimated duration is required</small>
                    </div>
                  </div>
                </form>
              </div>


            </div>
          </div>

          <!-- Navigation Buttons -->
          <div class="step-navigation mt-4 d-flex justify-content-between">
            <p-button *ngIf="activeStepIndex > 0" label="Previous" icon="pi pi-chevron-left" 
              styleClass="p-button-secondary" (onClick)="previousStep()">
            </p-button>
            
            <div class="ms-auto">
              <p-button *ngIf="activeStepIndex < steps.length - 1" label="Next" icon="pi pi-chevron-right" 
                iconPos="right" styleClass="p-button-primary" (onClick)="nextStep()" 
                [disabled]="!isCurrentStepValid()">
              </p-button>
              
              <p-button *ngIf="activeStepIndex === steps.length - 1" label="Create Account" 
                icon="pi pi-check" styleClass="p-button-success" (onClick)="onRegister()" 
                [loading]="isLoading" [disabled]="!isCurrentStepValid()">
              </p-button>
            </div>
          </div>

          <!-- Sign In Link -->
          <div class="signin-section text-center mt-4">
            <span class="signin-text">Already have an account? </span>
            <a [routerLink]="['/login']" routerLinkActive="router-link-active" class="signin-link">
              Sign in
            </a>
          </div>
        </div>
      </div>


    </div>
  </div>
</div>


