<div class="px-0 m-0 d-flex justify-content-center align-items-center">
  <div class="card shadow-sm border-0 rounded-4 p-4 w-100">
    <div
      class="d-flex flex-column flex-md-row align-items-center gap-4 border-bottom pb-4 mb-4"
    >
      <div>
        @if (imagePreview && !hasImageLoadFailed('client-profile')) {
        <img
          [src]="imagePreview"
          alt="Profile Picture"
          class="rounded-circle shadow img-profile"

          (error)="onImageError($event, 'client-profile')"
        />
        } @else {
        <p-avatar
          icon="pi pi-user"
          shape="circle"
          size="xlarge"
          class="shadow img-profile"

        ></p-avatar>
        }
      </div>
      <div class="flex-grow-1 text-center text-md-start">
        <div
          class="d-flex flex-column flex-md-row align-items-center gap-2 justify-content-md-between"
        >
          <span class="fw-bold fs-5">Update Profile Picture</span>
          <button
            class="btn btn-upload main-btn-bg px-4 text-white fw-semibold mt-2 mt-md-0"
            (click)="fileInput.click()"
          >
            <i class="fas fa-upload me-2"></i>Upload New Picture
          </button>
          <input
            #fileInput
            type="file"
            hidden
            accept="image/*"
            (change)="onImageChange($event)"
          />
        </div>
      </div>
    </div>
    <form [formGroup]="personalForm" (ngSubmit)="onSubmit()">
      <div class="row g-3">
        <div class="col-md-6">
          <label class="form-label">First Name</label>
          <input type="text" class="form-control" formControlName="FirstName" />
        </div>
        <div class="col-md-6">
          <label class="form-label">Last Name</label>
          <input type="text" class="form-control" formControlName="LastName" />
        </div>
        <div class="col-md-6">
          <label class="form-label">Email</label>
          <input type="email" class="form-control" formControlName="Email" />
        </div>
        <div class="col-md-6">
          <label class="form-label">Phone Number</label>
          <input
            type="text"
            class="form-control"
            formControlName="PhoneNumber"
          />
        </div>
        <div class="col-md-6">
          <label class="form-label">Country</label>
          <input type="text" class="form-control" formControlName="Country" />
        </div>
        <div class="col-md-6">
          <label class="form-label">City</label>
          <input type="text" class="form-control" formControlName="City" />
        </div>
        <div class="col-md-6">
          <label class="form-label">Governorate</label>
          <input
            type="text"
            class="form-control"
            formControlName="Governorate"
          />
        </div>
        <div class="col-md-6">
          <label class="form-label">Street</label>
          <input type="text" class="form-control" formControlName="Street" />
        </div>
      </div>
      <div class="d-flex justify-content-end mt-4">
        <button
          type="submit"
          class="btn main-btn-bg px-5 text-white fw-semibold btn-update"
        >
          <i class="fas fa-save me-2"></i>Update
        </button>
      </div>
    </form>
  </div>
</div>
