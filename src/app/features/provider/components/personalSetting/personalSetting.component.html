<form [formGroup]="personalForm">
  <div class="container d-flex flex-column gap-3 py-4 px-0 m-0 main-text-Color">
    <div class="settings-container">
      <div class="tab-content">
        <div class="tab-pane fade show active" id="personal-tab">
          <div class="settings-card">
            <div class="row">
              <div
                class="col-md-3 text-center d-flex flex-column justify-content-center align-items-center p-4"
              >
                <div class="profile-image-container mb-3">
                  @if(imagePreview && !imageLoadFailed){
                  <img
                    [src]="imagePreview"
                    alt="Profile Image"
                    (error)="onImageError()"
                  />
                  }@else {
                  <p-avatar
                    icon="pi pi-user"
                    shape="circle"
                    size="xlarge"
                    class="profile-image"
                  ></p-avatar>
                  }
                </div>
                <button
                  type="button"
                  class="btn main-btn-bg upload-btn mt-2"
                  (click)="fileInput.click()"
                >
                  Upload
                </button>
                <input
                  #fileInput
                  type="file"
                  hidden
                  accept="image/*"
                  (change)="onImageChange($event)"
                />
              </div>
              <div class="col-md-9">
                <div class="mb-3">
                  <label for="FirstName" class="form-label">First Name</label>
                  <input
                    type="text"
                    class="form-control"
                    formControlName="FirstName"
                  />
                </div>
                <div class="mb-3">
                  <label for="LastName" class="form-label">Last Name</label>
                  <input
                    type="text"
                    class="form-control"
                    formControlName="LastName"
                  />
                </div>
                <div class="mb-3">
                  <label for="email" class="form-label">Email</label>
                  <input
                    type="email"
                    class="form-control"
                    formControlName="email"
                  />
                </div>
                <div class="mb-3">
                  <label for="phone" class="form-label">Phone</label>
                  <input
                    type="tel"
                    class="form-control"
                    formControlName="phone"
                  />
                </div>
                <div class="mb-3">
                  <label for="dob" class="form-label">Date of Birth</label>
                  <p-datepicker
                    [iconDisplay]="'input'"
                    [showIcon]="true"
                    dateFormat="yy-mm-dd"
                    [showButtonBar]="true"
                    [showTime]="false"
                    (onSelect)="onDateSelect()"
                    formControlName="birthDate"
                  ></p-datepicker>
                </div>
              </div>
            </div>
            <div class="setting-btns d-flex justify-content-end gap-5 pt-4">
              <button
                type="button"
                class="btn Save-btn py-2 px-3"
                (click)="onSubmit()"
              >
                Save
              </button>
              <!-- <button
                type="button"
                class="btn Cancel-btn mt-3"
                (click)="onCancel()"
              >
                Cancel
              </button> -->
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</form>
